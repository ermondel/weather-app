require=function(r,e,n){function t(n,o){function i(r){return t(i.resolve(r))}function f(e){return r[n][1][e]||e}if(!e[n]){if(!r[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(u)return u(n,!0);var l=new Error("Cannot find module '"+n+"'");throw l.code="MODULE_NOT_FOUND",l}i.resolve=f;var s=e[n]=new t.Module(n);r[n][0].call(s.exports,i,s,s.exports)}return e[n].exports}function o(r){this.id=r,this.bundle=t,this.exports={}}var u="function"==typeof require&&require;t.isParcelRequire=!0,t.Module=o,t.modules=r,t.cache=e,t.parent=u;for(var i=0;i<n.length;i++)t(n[i]);return t}({17:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var n=function(){function n(e){t(this,n),this.state={},this.props=e||{},this.container=null,this.inner=null}return e(n,[{key:"updateState",value:function(e){return this.onBeforeUpdate(e),this.state=Object.assign({},this.state,e),this.onAfterUpdate(e),this.display()}},{key:"update",value:function(e){return this.props=Object.assign({},this.props,e),this.display()}},{key:"display",value:function(){var e=this.render();this.container.innerHTML="";var t=this.inner||this.container;if("string"==typeof e)t.innerHTML=e;else if(Array.isArray(e)){var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s&&t.appendChild(s)}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}}else t.appendChild(e);return this.inner&&this.container.appendChild(t),this.container}},{key:"render",value:function(){}},{key:"onAfterUpdate",value:function(e){}},{key:"onBeforeUpdate",value:function(e){}}]),n}();exports.default=n;
},{}],18:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e="351954d3a30a4b60ad716f1c73cc43ee",o="api.weatherbit.io/v2.0/forecast/daily",r=21600,n=[],a=function(t){var r="https:"===window.location.protocol?"https://":"http://";return fetch(""+r+o+"?key="+e+"&lang=en&units=M&days=16"+t).then(function(t){if(200==t.status)return t.json();throw new Error("No forecast available.")}).then(function(t){return t.timestamp=Math.floor(Date.now()/1e3),n.unshift(t),t})},i=exports.getForecast=function(e){var o=e.search(/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/)>=0,i=Math.floor(Date.now()/1e3);if(o){var f=function(t){if(e.toLowerCase()===t.city_name.toLowerCase()&&i-t.timestamp<r)return{v:new Promise(function(e){return e(t)})}},u=!0,c=!1,s=void 0;try{for(var l,y=n[Symbol.iterator]();!(u=(l=y.next()).done);u=!0){var p=f(l.value);if("object"===(void 0===p?"undefined":t(p)))return p.v}}catch(t){c=!0,s=t}finally{try{!u&&y.return&&y.return()}finally{if(c)throw s}}return a("&city="+e)}return new Promise(function(){throw new Error("No forecast available.")})};
},{}],23:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("../../Component"),n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(e){function i(t){a(this,i);var e=r(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t));return e.state={header:"Weather forecast for the city up to 2 weeks",placeholder:"e.g. New York"},e.inner=document.createElement("div"),e.inner.id="header-inner",e.container=document.createElement("header"),e.container.addEventListener("submit",e.handlerSubmit.bind(e)),e.container.addEventListener("change",e.handlerChange.bind(e)),e}return o(i,n.default),t(i,[{key:"handlerSubmit",value:function(t){t.preventDefault(),this.props.onSubmit(t.target.elements.city.value)}},{key:"handlerChange",value:function(t){"radio"===t.target.type&&("period"===t.target.name&&this.props.onChangePeriod(t.target.value),"unit"===t.target.name&&this.props.onChangeUnit(t.target.value))}},{key:"render",value:function(){var t=this.props.city,e=this.props.period,n=this.props.isCelsius;return"\n\t\t<h1>"+this.state.header+'</h1>\n\t\t<form id="form">\n\t\t\t<div class="left">\n\t\t\t\t<div id="search-box">\n\t\t\t\t\t<label for="city" class="visuallyhidden" tabindex="0">Choose the city of your interest</label>\n\t\t\t\t\t<input type="text" name="city" id="city"'+(t?'value="'+t+'"':'placeholder="'+this.state.placeholder+'"')+'required>\n\t\t\t\t</div>\n\t\t\t\t<div id="options">\n\t\t\t\t\t<div id="options-period">\n\t\t\t\t\t\t<label class="common-radio" tabindex="0">\n\t\t\t\t\t\t\t<input type="radio" name="period" value="1"'+(1==e?" checked":"")+' required>\n\t\t\t\t\t\t\t<span>day</span>\n        \t\t\t\t</label>\n        \t\t\t\t<label class="common-radio" tabindex="0">\n            \t\t\t\t<input type="radio" name="period" value="3"'+(3==e?" checked":"")+' required>\n            \t\t\t\t<span>3 days</span>\n        \t\t\t\t</label>\n        \t\t\t\t<label class="common-radio" tabindex="0">\n            \t\t\t\t<input type="radio" name="period" value="7"'+(7==e?" checked":"")+' required>\n            \t\t\t\t<span>week</span>\n        \t\t\t\t</label>\n        \t\t\t\t<label class="common-radio" tabindex="0">\n            \t\t\t\t<input type="radio" name="period" value="14"'+(14==e?" checked":"")+' required>\n            \t\t\t\t<span>2 weeks</span>\n        \t\t\t\t</label>\n        \t\t\t</div>\n        \t\t\t<div id="options-unit">\n        \t\t\t\t<label class="common-radio" tabindex="0">\n            \t\t\t\t<input type="radio" name="unit" value="celsius"'+(n?" checked":"")+' required>\n            \t\t\t\t<span>Celsius</span>\n        \t\t\t\t</label>\n        \t\t\t\t<label class="common-radio" tabindex="0">\n            \t\t\t\t<input type="radio" name="unit" value="fahrenheit"'+(n?"":" checked")+' required>\n            \t\t\t\t<span>Fahrenheit</span>\n        \t\t\t\t</label>\n        \t\t\t</div>\n        \t\t</div>\n\t\t\t</div>\n\t\t\t<div class="right">\n\t\t\t\t<input type="submit" value="Submit" id="submit" tabindex="0">\n\t\t\t</div>\n\t\t</form>'}}]),i}();exports.default=l;
},{"../../Component":17}],19:[function(require,module,exports) {
"use strict";function e(){if(window.URLSearchParams){var e=new URLSearchParams(window.location.search).get("city")||"";return e?e.replace("_"," "):""}return""}function r(e,r){history.pushState({},r,"?city="+e.replace(" ","_"))}function t(e){for(var r in e=e.split(" "))e[r]=e[r].charAt(0).toUpperCase()+e[r].slice(1);return e.join(" ")}function n(e,r){for(var t in r){if(r[t].split(";").indexOf(e)>=0)return t}return""}function o(e){var r=new Date(1e3*e);return r.getDate()+" "+["January","February","March","April","May","June","July","August","September","October","November","December"][r.getMonth()]+" "+r.getFullYear()}function i(e){return(9*e/5+32).toFixed(2)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.cityFromLoc=e,exports.cityToLoc=r,exports.cityUppercase=t,exports.filesManyToOne=n,exports.D_Month_Y=o,exports.CelsiusToFahrenheit=i;
},{}],59:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var s=require("../../utils"),d={"ico-01":"c01d","ico-03":"c04d","ico-02":"c03d;c02d;c02d","ico-04":"a06d;a05d;a04d;a03d;a02d;a01d","ico-06":"t05d;t04d;t04d;t04d;t03d;t02d;t01d","ico-05":"u00d;r06d;r05d;r04d;f01d;r03d;r02d;r01d","ico-07":"s06d;s02d;s01d;s05d;s05d;s04d;s03d;s02d;s01d;d03d;d02d;d01d"},t=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=arguments[2],i=e?t.temp+"°C":(0,s.CelsiusToFahrenheit)(t.temp)+"°F",r=e?t.max_temp+"°C":(0,s.CelsiusToFahrenheit)(t.max_temp)+"°F",c=e?t.min_temp+"°C":(0,s.CelsiusToFahrenheit)(t.min_temp)+"°F",n=(0,s.filesManyToOne)(t.weather.icon,d)+".png";return'\n\t<div class="forecast">\n\t\t<div class="forecast-date">'+(0,s.D_Month_Y)(t.ts)+'</div>\n\t\t<div class="forecast-description">'+t.weather.description+'</div>\n\t\t<div class="forecast-img"><img src="'+a[n]+'" alt="'+t.weather.description+'"></div>\n\t\t<div class="forecast-temp-avg">'+i+'</div>\n\t\t<div class="forecast-max-temp-app fl">Maximum temperature <span class="fv">'+r+'</span></div>\n\t\t<div class="forecast-min-temp-app fl">Minimum temperature <span class="fv">'+c+'</span></div>\n\t\t<div class="forecast-pres fl">Pressure <span class="fv">'+t.pres+' mb</span></div>\n\t\t<div class="forecast-rh fl">Humidity <span class="fv">'+t.rh+' %</span></div>\n\t\t<div class="forecast-wind_spd fl">Wind <span class="fv">'+t.wind_cdir_full+", "+t.wind_spd+" m/s</span></div>\n\t</div>"};exports.default=t;
},{"../../utils":19}],41:[function(require,module,exports) {
module.exports="d0ca226472bb7cfd2458e89d824f1a62.jpg";
},{}],42:[function(require,module,exports) {
module.exports="092955c5c80383691b04927f5e4ed00b.gif";
},{}],44:[function(require,module,exports) {
module.exports="0e44dbd561ad57fad11b405785f9deef.png";
},{}],43:[function(require,module,exports) {
module.exports="476319bc6a906799e171602a55311b93.png";
},{}],45:[function(require,module,exports) {
module.exports="35feab8cb4f6950915ff443a771946cc.png";
},{}],47:[function(require,module,exports) {
module.exports="8bb4685a3285aa0a1ce55c9338ee5a00.png";
},{}],46:[function(require,module,exports) {
module.exports="e0b0e5b1261051babd2d0d82b4a793b6.png";
},{}],48:[function(require,module,exports) {
module.exports="af529190cfb5d390983628934d6b82d7.png";
},{}],49:[function(require,module,exports) {
module.exports="f3f97cdb3921bef276f16478fafce063.png";
},{}],39:[function(require,module,exports) {
module.exports = {
  "forecast-error.jpg": require("./forecast-error.jpg"),
  "forecast-loading.gif": require("./forecast-loading.gif"),
  "ico-01.png": require("./ico-01.png"),
  "ico-02.png": require("./ico-02.png"),
  "ico-03.png": require("./ico-03.png"),
  "ico-04.png": require("./ico-04.png"),
  "ico-05.png": require("./ico-05.png"),
  "ico-06.png": require("./ico-06.png"),
  "ico-07.png": require("./ico-07.png")
};
},{"./forecast-error.jpg":41,"./forecast-loading.gif":42,"./ico-01.png":44,"./ico-02.png":43,"./ico-03.png":45,"./ico-04.png":47,"./ico-05.png":46,"./ico-06.png":48,"./ico-07.png":49}],33:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,r,o){return r&&e(t.prototype,r),o&&e(t,o),t}}(),t=require("../../Component"),r=s(t),o=require("./dayforecast"),n=s(o),i=require("./weather-icons/*"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function o(e){c(this,o);var t=u(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return t.container=document.createElement("div"),t}return f(o,r.default),e(o,[{key:"render",value:function(){var e=this.props.valid,t=this.props.isCelsius,r=this.props.period,o=this.props.waiting,i=this.props.forecast&&this.props.forecast.data||null;return e&&!o&&i?(this.container.id="forecasts",i.slice(0,r).map(function(e){return(0,n.default)(e,t,a.default)}).join("")):o?(this.container.id="forecast-loading",'<img src="'+a.default["forecast-loading.gif"]+'" alt="Loading">'):e?"":(this.container.id="forecast-error",'<img src="'+a.default["forecast-error.jpg"]+'" alt="No forecast available"><div>No forecast available.</div>')}}]),o}();exports.default=l;
},{"../../Component":17,"./dayforecast":59,"./weather-icons/*":39}],34:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../../Component"),n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(t){function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.container=document.createElement("div"),t.container.id="forecast-header",t.container.addEventListener("change",t.handleChange.bind(t)),t}return a(r,n.default),e(r,[{key:"handleChange",value:function(e){var t=this.props.city||"";t&&(e.target.checked?this.props.onAddFavorite(t):this.props.onDelFavorite(t))}},{key:"render",value:function(){var e=this.props.valid,t=this.props.waiting,n=this.props.city||"",r=this.props.favorite||!1;return e&&n&&!t?'\n\t\t\t<label><input type="checkbox" name="favorite" id="favorite"'+(r?" checked":"")+">\n\t\t\t<span><span>favorite city</span></span></label>\n\t\t\t<h1>"+n+"</h1>":""}}]),r}();exports.default=c;
},{"../../Component":17}],24:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../../Component"),r=u(t),n=require("./forecast.data.component"),o=u(n),a=require("./forecast.header.component"),i=u(a);function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function n(e){c(this,n);var t=f(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.inner=document.createElement("div"),t.inner.id="main-inner",t.container=document.createElement("main"),t.container.id="main",t.forecastHeader=new i.default(e),t.forecastData=new o.default(e),t}return s(n,r.default),e(n,[{key:"render",value:function(){return[this.forecastHeader.update(this.props),this.forecastData.update(this.props)]}}]),n}();exports.default=l;
},{"../../Component":17,"./forecast.data.component":33,"./forecast.header.component":34}],31:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),t=require("../../Component"),n=r(t);function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=function(t){function r(e){o(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.container=document.createElement("div"),t.container.id="favorites",t.container.addEventListener("click",t.handleClick.bind(t)),t}return a(r,n.default),e(r,[{key:"handleClick",value:function(e){"LI"===e.target.nodeName&&this.props.onClickStorage(e.target.textContent),"BUTTON"===e.target.nodeName&&"favoritesclear"===e.target.name&&this.props.onDelFavorite()}},{key:"render",value:function(){var e=this.props.favorites.length?this.props.favorites:null,t=e?"<ul>"+e.map(function(e){return"<li>"+e+"</li>"}).join("")+"</ul>":"";return'\n\t\t<div class="topbox">\n\t\t\t<h3>&#9733; Favorites</h3>\n\t\t\t<button name="favoritesclear"'+(t?"":" disabled")+">Clear all</button>\n\t\t</div>\n\t\t"+t}}]),r}();exports.default=u;
},{"../../Component":17}],32:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),e=require("../../Component"),n=r(e);function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(e){function r(t){o(this,r);var e=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return e.container=document.createElement("div"),e.container.id="history",e.container.addEventListener("click",e.handleClick.bind(e)),e}return a(r,n.default),t(r,[{key:"handleClick",value:function(t){"LI"===t.target.nodeName&&this.props.onClickStorage(t.target.textContent),"BUTTON"===t.target.nodeName&&"historyclear"===t.target.name&&this.props.onDelHistory()}},{key:"render",value:function(){var t=this.props.history.length?this.props.history:null,e=t?"<ul>"+t.map(function(t){return"<li>"+t+"</li>"}).join("")+"</ul>":"";return'\n\t\t<div class="topbox">\n\t\t\t<h3>&#10226; History</h3>\n\t\t\t<button name="historyclear"'+(e?"":" disabled")+">Clear all</button>\n\t\t</div>\n\t\t"+e}}]),r}();exports.default=u;
},{"../../Component":17}],25:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../../Component"),r=s(t),n=require("./storage.favorites.component"),o=s(n),i=require("./storage.history.component"),a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(t){function n(e){u(this,n);var t=c(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.inner=document.createElement("div"),t.inner.id="aside-inner",t.container=document.createElement("aside"),t.container.id="aside",t.hover=document.createElement("div"),t.hover.id="aside-marker",t.hover.innerHTML='<span class="out">&#10097;</span><span class="over">&#10096;</span>',t.storageFavorites=new o.default(e),t.storageHistory=new a.default(e),t}return f(n,r.default),e(n,[{key:"render",value:function(){var e=this.props.favorites,t=this.props.history;return[this.storageFavorites.update({favorites:e}),this.storageHistory.update({history:t}),this.hover]}}]),n}();exports.default=p;
},{"../../Component":17,"./storage.favorites.component":31,"./storage.history.component":32}],15:[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),e=require("./component"),i=l(e),o=require("./api"),a=require("./components/search/search.form.component"),n=l(a),r=require("./components/forecast/forecast.host.component"),s=l(r),c=require("./components/storage/storage.host.component"),u=l(c),f=require("./utils");function l(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(e){function a(t){d(this,a);var e=p(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return e.state={city:"",period:3,isCelsius:!0,forecast:{},valid:!0,waiting:!1,favorites:JSON.parse(localStorage.getItem("weather-app-favorites"))||[],history:JSON.parse(localStorage.getItem("weather-app-history"))||[]},e.container=e.props.container,e.searchForm=new n.default({onSubmit:e.onSubmit.bind(e),onChangePeriod:e.onChangePeriod.bind(e),onChangeUnit:e.onChangeUnit.bind(e),city:e.state.city,period:e.state.period,isCelsius:e.state.isCelsius}),e.forecastHost=new s.default({valid:e.state.valid,isCelsius:e.state.isCelsius,forecast:e.state.forecast,onAddFavorite:e.onAddFavorite.bind(e),onDelFavorite:e.onDelFavorite.bind(e)}),e.storageHost=new u.default({favorites:e.state.favorites,history:e.state.history,onClickStorage:e.onClickStorage.bind(e),onDelFavorite:e.onDelFavorite.bind(e),onDelHistory:e.onDelHistory.bind(e)}),window.addEventListener("unload",e.onWindowUnload.bind(e)),e}return h(a,i.default),t(a,[{key:"init",value:function(){var t=(0,f.cityFromLoc)();t?this.updateState({city:t,waiting:!0}):this.updateState()}},{key:"onSubmit",value:function(t){this.updateState({city:t,waiting:!0})}},{key:"onClickStorage",value:function(t){this.updateState({city:t,waiting:!0})}},{key:"onChangePeriod",value:function(t){this.updateState({period:t})}},{key:"onChangeUnit",value:function(t){var e="celsius"===t;this.updateState({isCelsius:e})}},{key:"onAddFavorite",value:function(t){var e=this.state.favorites;e.indexOf(t)<0&&e.unshift(t),this.updateState({favorites:e})}},{key:"onDelFavorite",value:function(t){var e=this.state.favorites;if(t){var i=e.indexOf(t);i>=0&&e.splice(i,1)}else e=[];this.updateState({favorites:e})}},{key:"onDelHistory",value:function(){this.updateState({history:[]})}},{key:"onWindowUnload",value:function(){var t=this.state.favorites,e=this.state.history;t=t.slice(-15),e=e.slice(-20),localStorage.setItem("weather-app-favorites",JSON.stringify(t)),localStorage.setItem("weather-app-history",JSON.stringify(e))}},{key:"onBeforeUpdate",value:function(t){t&&t.city&&(t.city=(0,f.cityUppercase)(t.city))}},{key:"onAfterUpdate",value:function(t){t&&t.city&&this.forecast(t.city)}},{key:"forecast",value:function(t){var e=this;(0,o.getForecast)(t).then(function(i){var o=e.state.history;o.indexOf(t)<0&&o.unshift(t),(0,f.cityToLoc)(t,"Weather app :: forecast for "+t),document.title="Forecast for "+t,e.updateState({waiting:!1,valid:!0,forecast:i,history:o})}).catch(function(i){document.title="No forecast available for "+t,e.updateState({waiting:!1,valid:!1})})}},{key:"render",value:function(){var t=this.state.city,e=this.state.period,i=this.state.isCelsius,o=this.state.valid,a=this.state.forecast,n=this.state.favorites,r=this.state.history,s=this.state.waiting,c=!!(n.indexOf(t)+1);return[this.searchForm.update({city:t,period:e,isCelsius:i}),this.forecastHost.update({city:t,period:e,isCelsius:i,valid:o,forecast:a,favorite:c,waiting:s}),this.storageHost.update({favorites:n,history:r})]}}]),a}();exports.default=y;
},{"./component":17,"./api":18,"./components/search/search.form.component":23,"./components/forecast/forecast.host.component":24,"./components/storage/storage.host.component":25,"./utils":19}],7:[function(require,module,exports) {
"use strict";var e=require("./app"),t=n(e);function n(e){return e&&e.__esModule?e:{default:e}}new t.default({container:document.getElementById("body")}).init();
},{"./app":15}]},{},[7])